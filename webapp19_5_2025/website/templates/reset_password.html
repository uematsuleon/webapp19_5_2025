{% extends "base.html" %}
{% block title %}パスワードリセット{% endblock %}
{% block content %}

<center>
<form method="POST">
  <h3 align="center">パスワードリセット</h3>

  <div class="form-group">
    <label for="email">メールアドレス</label>
    <input
      type="email"
      class="form-control"
      id="email"
      name="email"
      placeholder="Enter your email"
      style="width: 300px;"
      required
    />
  </div>

  <button type="submit" class="btn btn-primary" id="sendResetLink" style="display: block; margin-bottom: 10px;">
    送信
  </button>
  <button type="button" class="btn btn-primary" id="resendButton" disabled style="display: block;">
    再送信
  </button>

  <a href="{{ url_for('auth.login') }}">戻る</a>

</form>
</center>
<script>
document.getElementById('sendResetLink').addEventListener('click', function() {
    // Enable the resend button after first submission
    setTimeout(function() {
        document.getElementById('resendButton').disabled = false;
    }, 1000);
});

document.getElementById('resendButton').addEventListener('click', function() {
    // Manually submit the form when resend button is clicked
    document.querySelector('form').submit();
});
</script>
{% endblock %}