{% extends "base.html" %}
{% block title %}新しいパスワード{% endblock %}
{% block content %}

<center>

<form method="POST">
  <h3 align="center">新しいパスワード</h3>

  <div class="form-group">
    <label for="password">パスワード</label>
    <input
      type="password"
      class="form-control"
      id="password"
      name="password"
      placeholder="新しいパスワードを入力"
      style="width: 300px;"
      required
    />
  </div>

  <div class="form-group" style="margin-top: 10px;">
    <label for="confirm_password">パスワード確認</label>
    <input
      type="password"
      class="form-control"
      id="confirm_password"
      name="confirm_password"
      placeholder="新しいパスワードを再入力"
      style="width: 300px;"
      required
    />
  </div>

  <button type="submit" class="btn btn-primary" style="display: block; margin-top: 15px;">
    変更を保存
  </button>

  <a href="{{ url_for('auth.login') }}" style="display: block; margin-top: 10px;">戻る</a>

</form>
</center>

<script>
document.getElementById('confirm_password').addEventListener('input', function() {
    const password = document.getElementById('password').value;
    const confirmPassword = this.value;
    if (password !== confirmPassword) {
        this.setCustomValidity("パスワードが合ってません");
    } else {
        this.setCustomValidity("");
    }
});
</script>

{% endblock %}